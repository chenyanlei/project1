<html data-embedded="" class="js flexbox flexboxlegacy canvas canvastext webgl touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths mobile iphone smallscreen highresolution ios ios9 ios9_1 32bit safari safari9 safari9_0 webkit zh-cn tablesaw-enhanced portrait" style="visibility: visible;">

<head>
  <meta charset="utf-8">
  <title>定制VIP旅行</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="description" content="为定制您的专属旅行需求表提交数据。&amp;lt;p&amp;gt;填写您的旅行计划及需求信息，我们会针对您提供的信息进行分析匹配，并安排专业的旅游顾问为您...">
  <meta property="og:title" content="定制您的专属旅行">
  <meta property="og:description" content="为定制您的专属旅行。&amp;lt;p&amp;gt;填写您的旅行计划及需求信息，我们会针对您提供的信息进行分析匹配，并安排专业的旅游顾问为您...">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon-precomposed" href="https://gd-prod-assets.b0.upaiyun.com/favicon.png">
  <link rel="shortcut icon" type="image/x-icon" href="https://gd-prod-assets.b0.upaiyun.com/assets/favicon-62fe2f27ea9d532a13fc76ed0e8b5e68bc2f61dde4a7935f54ff5dc3e3a727b2.ico">
  <link rel="stylesheet" media="screen" href="/Public/css/cumstom-published.css" debug="false">
  <script src="/Public/js/jquery-1.11.3.js"></script>
  <script src="/Public/js/custom-application.js" debug="false"></script>
  <style type="text/css">.entry-container > .entry-container-inner .center { max-width: 700px; } .entry-container > .entry-container-inner > form { background-color: rgb(248, 255, 255); max-width: 700px; border-width: 0; border-color: rgb(56, 172, 159); } .entry-container > .entry-container-inner > form > .banner { background-color: rgb(35, 97, 90); font-size: 1.333em; font-weight: normal; color: rgb(255, 255, 255); text-align: left; } .entry-container > .entry-container-inner > form > .form-header .form-title { font-size: 1.667em; font-weight: normal; color: rgb(0, 0, 0); text-align: left; } .entry-container > .entry-container-inner > form .fields .field { padding-top: 15px; padding-bottom: 15px; } .entry-container > .entry-container-inner > form .fields .field .field-label { font-size: 1.167em; font-weight: bold; color: rgb(0, 0, 0); } .entry-container > .entry-container-inner > form .fields .field .choices label, .entry-container > .entry-container-inner > form .fields .field .likert thead th, .entry-container > .entry-container-inner > form .fields .field .matrix thead th, .entry-container > .entry-container-inner > form .fields .field .goods-items .name { font-size: 1.000em; font-weight: normal; color: rgb(0, 0, 0); } .entry-container > .entry-container-inner > form .submit-field { text-align: center; } .entry-container > .entry-container-inner > form .submit-field .gd-btn { background-color: rgb(35, 97, 90); padding: 0 30px; font-size: 1.167em; font-weight: normal; color: #FFF; border-width: 1px; border-color: transparent; }</style>
    <style>
    label.checkbox{
      border-bottom:1px solid #C3C9D0;
      border-left:0px;
      border-right: 0px;
      padding:10px 5px;
    }
    #comit{
      background-color: #00d8ff;
      padding: 10px 0;
      color:#fff;
      border-radius: 4px;
    }
    input,textarea {
        border: 0; /* 方法1 */
        -webkit-appearance: none; /* 方法2 */
    }
    .phone-device .entry-container-inner form .check-box-wrapper, .phone-device .entry-container-inner form .radio-button-wrapper {
        margin-top: 0px;
        margin-right:5px;
    }
    label.checkbox {
        padding: 14px 5px;
    }
    .radio, .checkbox {
         margin-bottom: 0px; 
    }
    label {
         margin-bottom: 0px; 
    }
    </style>
    </head>

<body class="entry-container mobile-device phone-device">
<div class="entry-container-inner">
  <form>
    <div class="form-header container-fluid">
      <div class="row">
        <h1 class="form-title col-md-12 font-family-heiti">定制您的专属旅行需求表</h1>
        <div class="form-description col-md-12">
          <p>填写您的旅行计划及需求信息，我们会针对您提供的信息进行分析匹配，并安排专业的旅游顾问为您服务！</p>
        </div>
      </div>
    </div>
    <div class="form-content container-fluid">
      <div class="row">
        <div class="fields clearfix">
          <div class="field field-check-box col-sm-12 required">
            <div class="form-group">
              <div class="field-label-container" onclick="">
                <label class="field-label font-family-heiti" for="entry_field_1">您这次出境旅行将与谁同行？</label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="field-content"  >  
      <div class="choices font-family-heiti form-description">
      <div style="border:1px solid #C3C9D0;">
        <label onclick="" class="checkbox " style="border-top:0">
          <div class="check-box-wrapper">
            <input type="checkbox" value="我们一家人出去度假" name="preference[]" >
            <i class="selected-icon"></i>
          </div>
          <div class="choice-description">我们一家人出去度假</div>
        </label>

        <label onclick="" class="checkbox ">
          <div class="check-box-wrapper">
            <input type="checkbox" value="与朋友一起出去玩" name="preference[]" >
            <i class="selected-icon"></i>
          </div>
          <div class="choice-description">与朋友一起出去玩</div>
        </label>

        <label onclick="" class="checkbox ">
          <div class="check-box-wrapper">
            <input type="checkbox" value="几个好朋友家庭相约出游" name="preference[]" >
            <i class="selected-icon"></i>
          </div>
          <div class="choice-description">几个好朋友家庭相约出游</div></label>
        <label onclick="" class="checkbox ">
          <div class="check-box-wrapper">
            <input type="checkbox" value="与商务合作伙伴进行考察" name="preference[]">
            <i class="selected-icon"></i>
          </div>
          <div class="choice-description">与商务合作伙伴进行考察</div></label>
        <label onclick="" class="checkbox ">
          <div class="check-box-wrapper">
            <input type="checkbox" value="与伴侣去蜜月度假" name="preference[]" >
            <i class="selected-icon"></i>
          </div>
          <div class="choice-description">与伴侣去蜜月度假</div></label>
        <div class="other-choice-area ">
          <label onclick="" class="checkbox  " style="border-bottom:none">
            <div class="check-box-wrapper">
              <input class="other_choice field-transformed" data-field-key="field_1" type="checkbox" value="其他" name="preference[]">
              <i class="selected-icon"></i>
            </div>
            <div class="choice-description">其他</div></label>
              <span class="other-choice-input-container">
                <input class="other-choice-input gd-input-medium gd-input-thin fixed-width-control" data-field-key="field_1" type="text" value="" name="preference[]" id="entry_field_1_other" style="margin-left:5px;width:95%;margin-right:10px;height:40px;" placeholder="例：与同事一起游玩等">
              </span>
        </div>
      </div>
      </div>
    </div>
    <div class="field field-date-field col-sm-12 required">
      <div class="form-group">
        <div class="field-label-container" onclick="">
          <label class="field-label font-family-heiti" for="entry_field_2">您的出发时间是？</label></div>
        <div class="field-content">
          <div class="gd-input-container" >
            <input  class="input-with-icon enhanced-input" data-date-start-date="" data-date-end-date="" data-icon="gd-icon-calendar" value="" type="date" name="start_date" id="entry_field_2">
            <i class="gd-input-icon gd-icon-calendar" style="top:13px;left:10px;"></i>
          </div>
        </div>
      </div>
    </div>
    <div class="field field-text-field col-sm-12 required">
      <div class="form-group">
        <div class="field-label-container" onclick="">
          <label class="field-label font-family-heiti" for="entry_field_11">您预计游玩多少天？</label></div>
        <div class="field-content">
          <input type="text" value="" name="days" id="entry_field_11" placeholder="例：5(天)"></div>
      </div>
    </div>
    <div class="field field-text-field col-sm-12 required">
      <div class="form-group">
        <div class="field-label-container" onclick="">
          <label class="field-label font-family-heiti" for="entry_field_3">计划多少人一起？</label></div>
        <div class="field-content">
          <input type="text" value="" name="person_num" id="entry_field_3" placeholder="例：5(人)"></div>
      </div>
    </div>
    <div class="field field-text-field col-sm-12 required">
      <div class="form-group">
        <div class="field-label-container" onclick="">
          <label class="field-label font-family-heiti" for="entry_field_5">准备去的国家/地区/海岛？</label></div>
        <div class="field-content">
          <input type="text" value="" name="destination" id="entry_field_5" placeholder="例：亚洲"></div>
      </div>
    </div>
    <div class="field field-text-field col-sm-12 required">
      <div class="form-group">
        <div class="field-label-container" onclick="">
          <label class="field-label font-family-heiti" for="entry_field_6">出发地点？</label></div>
        <div class="field-content">
          <input type="text" value="" name="start_point" id="entry_field_6" placeholder="例：北京"></div>
      </div>
    </div>
    <div class="field field-text-field col-sm-12 required">
      <div class="form-group">
        <div class="field-label-container" onclick="">
          <label class="field-label font-family-heiti" for="entry_field_7">姓名</label></div>
        <div class="field-content">
          <input type="text" value="" name="name" id="entry_field_7" placeholder="例：张三"></div>
      </div>
    </div>
    <div class="field field-text-field col-sm-12 required">
      <div class="form-group">
        <div class="field-label-container" onclick="">
          <label class="field-label font-family-heiti" for="entry_field_8">年龄</label></div>
        <div class="field-content">
          <input type="text" value="" name="age" id="entry_field_8" placeholder="例：30(岁)">
        </div>
      </div>
    </div>
    <div class="field field-radio-button col-sm-12 required">
      <div class="form-group">
        <div class="field-label-container" onclick="">
          <label class="field-label font-family-heiti" for="entry_field_9">称谓</label></div>
        <div class="field-content">
          <div class="choices font-family-heiti">
            <label onclick="" class="radio inline">
              <div class="radio-button-wrapper">
                <input type="radio" value="1" name="sex" class="field-transformed">
                <i class="selected-icon"></i>
              </div>
              <div class="choice-description">女士</div></label>
            <label onclick="" class="radio inline">
              <div class="radio-button-wrapper">
                <input type="radio" value="0" name="sex" class="field-transformed">
                <i class="selected-icon"></i>
              </div>
              <div class="choice-description">先生</div></label>
          </div>
        </div>
      </div>
    </div>
    <div class="field field-text-field col-sm-12 required">
      <div class="form-group">
        <div class="field-label-container" onclick="">
          <label class="field-label font-family-heiti" for="entry_field_10">手机号</label></div>
        <div class="field-content">
          <input type="text" value="" name="phone" id="entry_field_10" placeholder="请输入11位手机号码"></div>
      </div>
    </div>
    <div class="field field-text-area col-sm-12">
      <div class="form-group">
        <div class="field-label-container" onclick="">
          <label class="field-label font-family-heiti" for="entry_field_12">您对这次出境旅行有何偏好，以及对酒店、用车、用餐等有何要求？</label></div>
        <div class="field-content">
          <textarea rows="3" name="other" id="entry_field_12" data-autosize-on="true" style="overflow: hidden; word-wrap: break-word; height: 75px;" placeholder="例如：休闲度假、亲子游乐、专项考察等;需要安排五星级酒店等"></textarea></div>
      </div>
    </div>
    <div class="field submit-field col-md-12 clearfix">
        <div id="comit">提交</div>
    </div>
  </form>
  <div id="form_page_error_messages_modal" class="modal warning form-error-messages-modal  mobile-dialog" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">
            <span>×</span></button>
          <h4 class="modal-title">错误提醒</h4></div>
        <div class="modal-body clearfix">
          <div class="error-explanation">
            <h5>提交未成功，当前页面填写有错误！</h5></div>
        </div>
      </div>
    </div>
  </div>
</div>
<div id="form_thumbnail_default" class="gd-hide">
  <img src="https://gd-prod-assets.b0.upaiyun.com/assets/weixin_thumbnail/wx-img-1-e99378d457b9d77ca8e12f4e33db820e30357ae184aa3e24306eda1f9b268cff.png" alt="Wx img 1"></div>
<div class="gd-hide" id="form_share_info" data-form-name="定制您的专属旅行需求表" data-hide-logo="false">填写您的旅行计划及需求信息，我们会针对您提供的信息进行分析匹配，并安排专业的旅游顾问为您服务！</div>
<script src="/Public/js/weixin-1.0.0.js"></script>
<script src="/Public/js/weixin-share.js"></script>
<script>
$(function(){



  stopDrop();
  //禁止下拉回弹
  function stopDrop() {
      var lastY;//最后一次y坐标点
      $(document.body).on('touchstart', function(event) {
          lastY = event.originalEvent.changedTouches[0].clientY;//点击屏幕时记录最后一次Y度坐标。
      });
      $(document.body).on('touchmove', function(event) {
          var y = event.originalEvent.changedTouches[0].clientY;
          var st = $(this).scrollTop(); //滚动条高度  
          if (y >= lastY && st <= 10) {//如果滚动条高度小于0，可以理解为到顶了，且是下拉情况下，阻止touchmove事件。
              lastY = y;
              event.preventDefault();
          }
          lastY = y;
   
      });
  }
  //后退后清空页面数据
  $("input[type='text']").val('');
  $("textarea").val('');
  $("input[type='checkbox']").removeAttr('checked','checked');
  $("input[type='radio']").removeAttr('checked','checked');
  var who_tarvel=[];
  $('#entry_field_2').val(new Date().toDateInputValue());

  $('#comit').click(function() {
      var fav=$('[name="preference[]"]').is(':checked');
      var time=$('#entry_field_2').val(); 
      var person_num=$('#entry_field_3').val();  
      var destination=$('#entry_field_5').val();
      var start_point=$('#entry_field_6').val();
      var name=$('#entry_field_7').val();
      var age=$('#entry_field_8').val();
      var gender=$('input:radio[name="sex"]:checked').val();
      var phone=$('#entry_field_10').val();
      var days=$('#entry_field_11').val();
      var other=$("textarea[name='other']").val();

      if(!fav){
          alert("'出境旅游与谁同行'不能为空");
          return false;
      }
      else if(!time){
        alert("出发时间不能为空");
          return false;
      }
      else if(!days){
          alert("出游天数不能为空");
            return false;
      }
      else if(!is_day(days)){
          alert("'游玩天数'输入格式错误");
      }
      else if(!person_num){
        alert("计划人数不能为空");
        return false;
      }
      else if(!is_day(person_num)){
          alert("'计划人数'输入格式错误");
      }
      else if(!destination){
        alert("目的地不能为空");
        return false;
      }
      else if(!start_point){
        alert("出发地不能为空");
        return false;
      }
      else if(!name){
        alert("姓名不能为空");
        return false;
       }
       else if(!age_true(age)){
          alert("年龄必须在1-100之间");
          return false;
       }
       else if(!gender){
          alert("性别不能为空");
          return false;
       }
       else if(!is_phone(phone)){
          alert("手机号码格式错误");
          return false;
       }else if(fav&&time&&days&&is_day(days)&&person_num&&is_day(person_num)&&destination&&start_point&&name&&age_true(age)&&gender&&is_phone(phone)){
         $("input[name='preference[]']:checked").each(function() {
            if ($(this).is(':checked')) {
              who_tarvel.push($(this).val())
            }
         });
         $.ajax({
            type:'post',
            url:'/custom/commit',
            data:{'preference':who_tarvel,'start_date':time,'person_num':person_num,'days':days,'destination':destination,'start_point':start_point,'name':name,'age':age,'sex':gender,'phone':phone,'other':other},
            beforeSend:function () {
              
            },
            success:function (data) {
                if (data.result.err==0) {
                  window.location.href='/custom/customize_list';
                }else{
                    alert(data.result.msg);
                }
            }
         })
       }
    }); 




 });
Date.prototype.toDateInputValue = function() {
    var local = new Date();
    local.setDate(local.getDate()+20);
    return local.toJSON().slice(0,10);
};

function age_true(age){
  var reg=/(^[1-9][0-9]$)|(^100&)|(^[1-9]$)$/;
  return reg.test(age);
}
function is_phone(phone){
  var reg = /^1[3-9][0-9]{9}$/; 
  //检测   exec
  return reg.test(phone);
}
//游玩天数 计划多少人  只能输入数字验证
function is_day(days) {
  var reg=/^[1-9]\d*$/;
  return reg.test(days);
}
$(function() {
  $('.top-warning').delay(1000).slideDown(500);
});
</script>
</body>

<script>$(function() {
  $("[data-role='attachment']").addClass('preview');
})

</script>
</html>